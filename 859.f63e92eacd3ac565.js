"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[859],{7859:(U,b,l)=>{l.r(b),l.d(b,{VoiceInterviewComponent:()=>q});var u=l(2200),g=l(4341),f=l(8132),e=l(3664),r=l(2615),v=l(4412),w=l(8141),x=l(5558),p=l(7673),C=l(9437),k=l(1985),y=l(5312);let M=(()=>{class o{messagesSubject=new v.t([]);messages$=this.messagesSubject.asObservable();audioRecordingSubject=new v.t(!1);audioRecording$=this.audioRecordingSubject.asObservable();aiSpeakingSubject=new v.t(!1);aiSpeaking$=this.aiSpeakingSubject.asObservable();currentDomain="javascript";currentDifficulty="medium";conversationHistory=[];recognition;synthesis;interviewStage=0;isRecognitionActive=!1;interviewDomains=[{id:"javascript",name:"JavaScript Fundamentals",description:"Core JavaScript concepts, ES6+ features, and modern JS practices",technicalSkills:["ES6+ Features","Async/Await","Closures","Prototypes"],softSkills:["Problem Solving","Communication","Technical Explanation"]},{id:"data-structures",name:"Data Structures",description:"Fundamental data structures and their implementations",technicalSkills:["Arrays/Lists","Trees/Graphs","Hash Tables","Big O Notation"],softSkills:["Analytical Thinking","Optimization","Algorithm Design"]},{id:"algorithms",name:"Algorithms",description:"Algorithm design, analysis, and optimization techniques",technicalSkills:["Sorting","Searching","DP","Recursion"],softSkills:["Logical Reasoning","Pattern Recognition","Efficiency Analysis"]},{id:"system-design",name:"System Design",description:"Designing scalable and efficient software systems",technicalSkills:["Architecture","Scalability","Databases","APIs"],softSkills:["System Thinking","Trade-off Analysis","Communication"]},{id:"frontend",name:"Frontend Development",description:"Modern frontend technologies and frameworks",technicalSkills:["React/Angular/Vue","CSS/HTML","State Management","Performance"],softSkills:["UI/UX Understanding","Attention to Detail","User Focus"]},{id:"backend",name:"Backend Development",description:"Server-side development and API design",technicalSkills:["Node.js/Python/Java","Databases","APIs","Security"],softSkills:["Architecture Planning","Security Mindset","Performance Optimization"]}];constructor(){this.synthesis=window.speechSynthesis,this.initializeSpeechRecognition()}initializeSpeechRecognition(){if("webkitSpeechRecognition"in window)try{this.recognition=new window.webkitSpeechRecognition,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.lang="en-US",this.recognition.maxAlternatives=1,this.recognition.onstart=()=>{console.log("\u{1f3a4} Speech recognition started"),this.isRecognitionActive=!0,this.audioRecordingSubject.next(!0)},this.recognition.onend=()=>{console.log("\u{1f3a4} Speech recognition ended"),this.isRecognitionActive=!1,this.audioRecordingSubject.next(!1)},this.recognition.onresult=t=>{if(console.log("\u{1f3a4} Speech recognition result received"),t.results&&t.results.length>0){const n=t.results[0][0].transcript;n&&n.trim()&&(console.log("\u{1f3a4} User said:",n),this.processUserResponse(n).subscribe())}},this.recognition.onerror=t=>{console.error("\u{1f3a4} Speech recognition error:",t.error),this.isRecognitionActive=!1,this.audioRecordingSubject.next(!1),"not-allowed"===t.error?alert("\u274c Microphone access denied. Please allow microphone permissions in your browser settings."):"no-speech"===t.error&&console.log("\u{1f3a4} No speech detected - user might not have spoken")}}catch(t){console.error("Error initializing speech recognition:",t)}else console.error("Speech recognition not supported in this browser")}isSpeechRecognitionSupported(){return"webkitSpeechRecognition"in window}isSpeechSynthesisSupported(){return"speechSynthesis"in window}startVoiceInterview(t,n){this.clearMessages(),this.currentDomain=t,this.currentDifficulty=n,this.interviewStage=0;const i=this.generateSystemPrompt(t,n);this.conversationHistory=[{role:"system",content:i}];const s=`Welcome to your ${this.getDomainName(t)} interview at the ${n} level! I'll be asking you ${this.getQuestionCount()} technical questions. Let's begin.`;return this.addMessage("ai",s),this.speakMessage(s),this.generateAIQuestion("Start the interview with an appropriate technical question.").pipe((0,w.M)(c=>{setTimeout(()=>{this.addMessage("ai",c.question),this.speakMessage(c.question)},2e3)}))}generateSystemPrompt(t,n){const i=this.getDomainName(t),s=this.getQuestionCount();return`You are a professional technical interviewer conducting a ${n.toLowerCase()} level interview for ${i}.\n\nINTERVIEW STRUCTURE:\n- Conduct exactly ${s} technical questions\n- Ask one question at a time\n- Wait for the candidate's complete answer before responding\n- Provide brief, constructive feedback after each answer\n- End the interview after ${s} questions with personalized feedback\n\nDOMAIN: ${i}\nDIFFICULTY: ${n}\nQUESTIONS: ${s}\n\nDIFFICULTY GUIDELINES:\n${this.getDifficultyGuidelines(n)}\n\nRESPONSE FORMAT: Return ONLY JSON in this exact format:\n{\n  "question": "The next question to ask",\n  "feedback": "Brief feedback on previous answer (if any)",\n  "isCompleted": false/true,\n  "requiresAnswer": true/false\n}\n\nIMPORTANT: \n- Be professional but encouraging\n- Ask practical, real-world questions\n- Provide specific, actionable feedback\n- Adapt question complexity based on candidate performance\n- For the final response, set "isCompleted": true and provide summary feedback`}getDifficultyGuidelines(t){const n={easy:"- Focus on fundamental concepts and definitions\n- Ask straightforward, practical questions\n- Expect basic implementation knowledge\n- Provide encouraging feedback",medium:"- Mix conceptual and practical questions\n- Include scenario-based problems\n- Expect understanding of trade-offs\n- Provide constructive technical feedback",hard:"- Ask complex, multi-part questions\n- Include system design and optimization\n- Expect deep technical knowledge\n- Challenge with edge cases and scalability"};return n[t.toLowerCase()]||n.medium}getQuestionCount(){return 5}generateAIQuestion(t){t&&this.conversationHistory.push({role:"user",content:t}),this.interviewStage++;const n=this.conversationHistory.slice(-10);return this.callGeminiAI(n).pipe((0,x.n)(i=>{let s;if(!i.candidates||!i.candidates[0]?.content?.parts[0]?.text)throw new Error("No response from Gemini AI");s=i.candidates[0].content.parts[0].text,this.conversationHistory.push({role:"assistant",content:s});try{const c=JSON.parse(s);return(0,p.of)(c)}catch{return(0,p.of)({question:s,requiresAnswer:!0,isCompleted:this.interviewStage>=this.getQuestionCount()})}}),(0,C.W)(i=>(console.error("Gemini API error:",i),(0,p.of)(this.generateEnhancedMockQuestion()))))}callGeminiAI(t){const n=y.c.geminiApiKey;if(!n||"your-actual-gemini-api-key-here"===n)return console.log("\u{1f527} Using enhanced mock questions"),(0,p.of)({candidates:[{content:{parts:[{text:JSON.stringify(this.generateEnhancedMockQuestion())}]}}]});const i=`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${n}`,s=this.convertToGeminiPrompt(t);return new k.c(c=>{fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:s}]}],generationConfig:{temperature:.7,maxOutputTokens:500}})}).then(d=>{if(!d.ok)throw new Error(`Gemini API error: ${d.status}`);return d.json()}).then(d=>{c.next(d),c.complete()}).catch(d=>{console.error("Gemini API call failed:",d),c.next({candidates:[{content:{parts:[{text:JSON.stringify(this.generateEnhancedMockQuestion())}]}}]}),c.complete()})})}convertToGeminiPrompt(t){let n="";return t.forEach(i=>{"system"===i.role?n+=`SYSTEM: ${i.content}\n\n`:"user"===i.role?n+=`USER: ${i.content}\n\n`:"assistant"===i.role&&(n+=`ASSISTANT: ${i.content}\n\n`)}),n+="ASSISTANT: ",n}generateEnhancedMockQuestion(){const t=this.conversationHistory.filter(d=>"user"===d.role).length;if(t>=this.getQuestionCount())return{question:"\u{1f389} Excellent! Interview completed successfully.",feedback:`You demonstrated strong ${this.currentDifficulty} level knowledge in ${this.getDomainName(this.currentDomain)}. Your answers showed good technical depth and practical understanding.`,isCompleted:!0,requiresAnswer:!1};const i=this.getSmartQuestions(),s=i[Math.floor(Math.random()*i.length)];if(t>0&&t%2==0){const d=["Good explanation! You covered the key points well.","That's a solid approach. Consider mentioning more real-world examples.","Well structured answer. You're thinking systematically about the problem.","Good technical depth. Try to connect it to business impact.","Clear communication. You explained complex concepts simply and effectively."];return{question:s,feedback:d[Math.floor(Math.random()*d.length)],requiresAnswer:!0,isCompleted:!1}}return{question:s,requiresAnswer:!0,isCompleted:!1}}getSmartQuestions(){const t={javascript:{easy:["What is the difference between let, const, and var in JavaScript?","How do arrow functions differ from regular functions?","What are template literals and why are they useful?","Explain what destructuring assignment is.","What is the spread operator and how is it used?"],medium:["How does the event loop work in JavaScript?","What are closures and can you provide a practical example?","Explain promise chaining and error handling with async/await.","What is the difference between call, apply, and bind?","How would you deep clone an object in JavaScript?"],hard:["Implement a debounce function from scratch.","How does JavaScript handle memory management and garbage collection?","Explain the module system in JavaScript (ES6 vs CommonJS).","What are Web Workers and when would you use them?","How would you implement a custom event emitter?"]},"data-structures":{easy:["What is the time complexity of array insertion and deletion?","Explain the difference between arrays and linked lists.","What is a stack and what are its common use cases?","How does a queue work?","What are the basic operations on a hash table?"],medium:["Implement a binary search tree insertion method.","What are the different types of tree traversals?","Explain how a min-heap works.","What is the difference between BFS and DFS?","How would you detect a cycle in a linked list?"],hard:["Design an LRU cache implementation.","What are self-balancing trees and why are they important?","Explain the A* search algorithm.","How would you implement a trie data structure?","What are the trade-offs between different sorting algorithms?"]},"system-design":{easy:["What are the main components of a web application?","Explain the client-server architecture.","What is a database and why is it important?","What are APIs and how are they used?","What is caching and why is it useful?"],medium:["How would you design a URL shortening service?","What is load balancing and why is it important?","Explain database indexing and its benefits.","What are microservices and their advantages?","How would you handle database migrations?"],hard:["Design a system for real-time collaborative editing.","How would you architect a social media platform?","Explain the CAP theorem and its implications.","Design a recommendation system for an e-commerce platform.","How would you handle system scalability for millions of users?"]}},n=t[this.currentDomain]||t.javascript,i=n[this.currentDifficulty]||n.medium;return i.length>0?i:["Tell me about your experience with this technology.","What challenges have you faced while working with this?","How do you stay updated with the latest developments?","What's your approach to learning new technologies?","Can you describe a project where you used this technology?"]}processUserResponse(t,n=!1){return this.addMessage("user",t,n),this.generateAIQuestion(t).pipe((0,w.M)(i=>{i.feedback?(this.addMessage("ai",i.feedback),this.speakMessage(i.feedback),i.question&&!i.isCompleted&&setTimeout(()=>{this.addMessage("ai",i.question),this.speakMessage(i.question)},2e3)):i.question&&(this.addMessage("ai",i.question),this.speakMessage(i.question))}))}startListening(){if(!this.recognition)return console.error("Speech recognition not initialized"),void alert("Speech recognition is not available in your browser. Please use Chrome or Edge.");if(this.isRecognitionActive)console.log("Speech recognition already active");else try{console.log("\u{1f3a4} Starting speech recognition..."),this.recognition.start()}catch(t){console.error("Error starting speech recognition:",t),alert("Error starting microphone. Please check your microphone permissions and try again.")}}stopListening(){if(this.recognition&&this.isRecognitionActive)try{console.log("\u{1f3a4} Stopping speech recognition..."),this.recognition.stop(),this.isRecognitionActive=!1}catch(t){console.error("Error stopping speech recognition:",t)}}sendTextResponse(t){return t&&""!==t.trim()?(console.log("\u{1f4dd} Sending text response:",t),this.processUserResponse(t,!1)):(console.log("Empty text response"),(0,p.of)())}speakMessage(t){if(!this.isSpeechSynthesisSupported())return;this.synthesis.cancel(),this.aiSpeakingSubject.next(!0);const n=new SpeechSynthesisUtterance(t);n.rate=.9,n.pitch=1,n.volume=1,n.onend=()=>{this.aiSpeakingSubject.next(!1)},n.onerror=()=>{this.aiSpeakingSubject.next(!1)},this.synthesis.speak(n)}stopSpeaking(){this.synthesis.cancel(),this.aiSpeakingSubject.next(!1)}endInterview(){const t="Interview session ended. Thank you for your participation!";return this.addMessage("ai",t),this.speakMessage(t),(0,p.of)({question:t,isCompleted:!0,requiresAnswer:!1})}addMessage(t,n,i=!1){this.messagesSubject.next([...this.messagesSubject.value,{type:t,content:n,timestamp:new Date,isAudio:i}])}clearMessages(){this.messagesSubject.next([]),this.conversationHistory=[],this.currentDomain="javascript",this.interviewStage=0}getDomainName(t){const n=this.interviewDomains.find(i=>i.id===t);return n?n.name:"Technical"}getCurrentProgress(){return{current:this.messagesSubject.value.filter(n=>"user"===n.type).length,total:this.getQuestionCount()}}isRecording(){return this.isRecognitionActive}static \u0275fac=function(n){return new(n||o)};static \u0275prov=r.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const S=["messageContainer"],P=["audioVisualizer"],I=["textInput"];function O(o,a){if(1&o&&(e.j41(0,"option",32),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function F(o,a){if(1&o&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.R7$(),e.JRh(t)}}function E(o,a){if(1&o&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.R7$(),e.JRh(t)}}function A(o,a){if(1&o&&(e.j41(0,"div",33)(1,"h3"),e.EFF(2),e.k0s(),e.j41(3,"p"),e.EFF(4),e.k0s(),e.j41(5,"div",34)(6,"div",35)(7,"h4"),e.EFF(8,"Technical Skills"),e.k0s(),e.j41(9,"ul"),e.DNE(10,F,2,1,"li",36),e.k0s()(),e.j41(11,"div",35)(12,"h4"),e.EFF(13,"Soft Skills"),e.k0s(),e.j41(14,"ul"),e.DNE(15,E,2,1,"li",36),e.k0s()()()()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(t.currentDomain.name),e.R7$(2),e.JRh(t.currentDomain.description),e.R7$(6),e.Y8G("ngForOf",t.getTechnicalSkills()),e.R7$(5),e.Y8G("ngForOf",t.getSoftSkills())}}function R(o,a){1&o&&(e.j41(0,"div",37)(1,"div",38),e.EFF(2,"\u26a0\ufe0f"),e.k0s(),e.j41(3,"p"),e.EFF(4,"Voice features are not fully supported in your browser. Please use Chrome or Edge for the best experience."),e.k0s()())}function j(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"h2"),e.EFF(3,"Select Interview Domain"),e.k0s(),e.j41(4,"div",20)(5,"label",21),e.EFF(6,"Technical Domain:"),e.k0s(),e.j41(7,"select",22),e.mxI("ngModelChange",function(i){r.eBV(t);const s=e.XpG();return e.DH7(s.selectedDomain,i)||(s.selectedDomain=i),r.Njj(i)}),e.bIt("change",function(){r.eBV(t);const i=e.XpG();return r.Njj(i.onDomainChange())}),e.DNE(8,O,2,2,"option",23),e.k0s()(),e.j41(9,"div",20)(10,"label",24),e.EFF(11,"Difficulty Level:"),e.k0s(),e.j41(12,"select",25),e.mxI("ngModelChange",function(i){r.eBV(t);const s=e.XpG();return e.DH7(s.difficulty,i)||(s.difficulty=i),r.Njj(i)}),e.j41(13,"option",26),e.EFF(14,"Easy"),e.k0s(),e.j41(15,"option",27),e.EFF(16,"Medium"),e.k0s(),e.j41(17,"option",28),e.EFF(18,"Hard"),e.k0s()()(),e.DNE(19,A,16,4,"div",29)(20,R,5,0,"div",30),e.j41(21,"button",31),e.bIt("click",function(){r.eBV(t);const i=e.XpG();return r.Njj(i.startInterview())}),e.EFF(22),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(7),e.R50("ngModel",t.selectedDomain),e.R7$(),e.Y8G("ngForOf",t.domains),e.R7$(4),e.R50("ngModel",t.difficulty),e.R7$(7),e.Y8G("ngIf",t.currentDomain),e.R7$(),e.Y8G("ngIf",!t.isVoiceSupported()),e.R7$(),e.Y8G("disabled",t.isLoading),e.R7$(),e.SpI(" ",t.isLoading?"Starting Interview...":"Start Voice Interview"," ")}}function D(o,a){1&o&&(e.j41(0,"span",64),e.EFF(1,"\u{1f3a4}"),e.k0s())}function T(o,a){if(1&o&&(e.j41(0,"div",58)(1,"div",59)(2,"span",60),e.EFF(3),e.k0s(),e.j41(4,"span",61),e.EFF(5),e.k0s(),e.DNE(6,D,2,0,"span",62),e.k0s(),e.j41(7,"div",63),e.EFF(8),e.k0s()()),2&o){const t=a.$implicit,n=e.XpG(2);e.AVh("user-message","user"===t.type)("ai-message","ai"===t.type),e.R7$(3),e.SpI(" ","user"===t.type?"You":"Interviewer"," "),e.R7$(2),e.SpI(" ",n.formatTime(t.timestamp)," "),e.R7$(),e.Y8G("ngIf",t.isAudio),e.R7$(2),e.SpI(" ",t.content," ")}}function V(o,a){1&o&&(e.j41(0,"div",65)(1,"div",66),e.nrm(2,"span")(3,"span")(4,"span"),e.k0s(),e.j41(5,"p"),e.EFF(6,"Interviewer is thinking..."),e.k0s()())}function G(o,a){1&o&&(e.j41(0,"div",67),e.nrm(1,"canvas",68,1),e.j41(3,"p",69),e.EFF(4,"\u{1f3a4} Listening... Speak now"),e.k0s()())}function $(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){r.eBV(t);const i=e.XpG(2);return r.Njj(i.toggleRecording())}),e.j41(1,"span",71),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()}if(2&o){const t=e.XpG(2);e.AVh("recording",t.isRecording),e.Y8G("disabled",!t.canRecord()),e.R7$(2),e.SpI(" ",t.isRecording?"\u23f9\ufe0f":"\u{1f3a4}"," "),e.R7$(),e.SpI(" ",t.isRecording?"Stop Recording":"Voice Answer"," ")}}function z(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",72)(1,"textarea",73,2),e.mxI("ngModelChange",function(i){r.eBV(t);const s=e.XpG(2);return e.DH7(s.textResponse,i)||(s.textResponse=i),r.Njj(i)}),e.bIt("keypress",function(i){r.eBV(t);const s=e.XpG(2);return r.Njj(s.onTextInputKeyPress(i))}),e.EFF(3,"        "),e.k0s(),e.j41(4,"button",74),e.bIt("click",function(){r.eBV(t);const i=e.XpG(2);return r.Njj(i.sendTextResponse())}),e.EFF(5," Send "),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.textResponse),e.Y8G("disabled",!t.canType()),e.R7$(3),e.Y8G("disabled",!t.textResponse.trim()||!t.canType())}}function N(o,a){1&o&&(e.j41(0,"div",75),e.EFF(1," \u{1f5e3}\ufe0f Interviewer is speaking... "),e.k0s())}function W(o,a){1&o&&(e.j41(0,"div",76),e.EFF(1," \u{1f4ac} Waiting for your response... "),e.k0s())}function L(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",77)(1,"div",78)(2,"h2"),e.EFF(3,"\u{1f389} Interview Completed!"),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s(),e.j41(6,"p")(7,"strong"),e.EFF(8,"Questions Answered:"),e.k0s(),e.EFF(9),e.k0s(),e.j41(10,"div",79)(11,"button",80),e.bIt("click",function(){r.eBV(t);const i=e.XpG(2);return r.Njj(i.restartInterview())}),e.EFF(12," Start New Interview "),e.k0s(),e.j41(13,"button",81),e.EFF(14," Back to Dashboard "),e.k0s()()()()}if(2&o){const t=e.XpG(2);e.R7$(5),e.SpI("You've completed the ",t.getDomainName(t.selectedDomain)," interview."),e.R7$(4),e.SpI(" ",t.userMessagesCount)}}function Y(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",41)(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.EFF(6),e.nI1(7,"number"),e.k0s()(),e.j41(8,"div",42),e.nrm(9,"div",43),e.k0s()(),e.j41(10,"div",44,0),e.DNE(12,T,9,8,"div",45)(13,V,7,0,"div",46),e.k0s(),e.DNE(14,G,5,0,"div",47),e.j41(15,"div",48),e.DNE(16,$,4,5,"button",49)(17,z,6,3,"div",50),e.j41(18,"div",51),e.DNE(19,N,2,0,"div",52)(20,W,2,0,"div",53),e.k0s()(),e.j41(21,"div",54)(22,"button",55),e.bIt("click",function(){r.eBV(t);const i=e.XpG();return r.Njj(i.endInterview())}),e.EFF(23," End Interview "),e.k0s(),e.j41(24,"button",56),e.bIt("click",function(){r.eBV(t);const i=e.XpG();return r.Njj(i.restartInterview())}),e.EFF(25," Restart Interview "),e.k0s()(),e.DNE(26,L,15,2,"div",57),e.k0s()}if(2&o){const t=e.XpG();e.R7$(4),e.Lme("Question ",t.userMessagesCount+1," of ",t.getProgressInfo().total),e.R7$(2),e.SpI("",e.i5U(7,14,t.getProgressPercentage(),"1.0-0"),"%"),e.R7$(3),e.xc7("width",t.getProgressPercentage(),"%"),e.R7$(3),e.Y8G("ngForOf",t.messages),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",t.isRecording),e.R7$(2),e.Y8G("ngIf",t.canRecord()),e.R7$(),e.Y8G("ngIf",t.canType()),e.R7$(2),e.Y8G("ngIf",t.isAiSpeaking),e.R7$(),e.Y8G("ngIf",t.isWaitingForAnswer&&!t.isRecording),e.R7$(2),e.Y8G("disabled",t.isInterviewEnded),e.R7$(4),e.Y8G("ngIf",t.isInterviewEnded)}}let q=(()=>{class o{voiceInterviewService;messageContainer;audioVisualizer;textInput;selectedDomain="javascript";difficulty="medium";isInterviewStarted=!1;isInterviewEnded=!1;isLoading=!1;isRecording=!1;isAiSpeaking=!1;isWaitingForAnswer=!1;textResponse="";messages=[];domains=[];currentDomain;userMessagesCount=0;constructor(t){this.voiceInterviewService=t,this.domains=this.voiceInterviewService.interviewDomains,this.updateCurrentDomain()}messagesSubscription;recordingSubscription;aiSpeakingSubscription;audioContext=null;analyser=null;animationId=null;ngOnInit(){this.messagesSubscription=this.voiceInterviewService.messages$.subscribe(t=>{this.messages=t,this.updateUserMessagesCount(),this.scrollToBottom(),"ai"===t[t.length-1]?.type&&!this.isAiSpeaking&&this.isInterviewStarted&&!this.isInterviewEnded&&setTimeout(()=>{this.isWaitingForAnswer=!0,setTimeout(()=>{this.textInput&&this.textInput.nativeElement.focus()},100)},1e3)}),this.recordingSubscription=this.voiceInterviewService.audioRecording$.subscribe(t=>{this.isRecording=t,t?this.startAudioVisualization():this.stopAudioVisualization()}),this.aiSpeakingSubscription=this.voiceInterviewService.aiSpeaking$.subscribe(t=>{this.isAiSpeaking=t,!t&&this.isInterviewStarted&&!this.isInterviewEnded&&setTimeout(()=>{"ai"===this.messages[this.messages.length-1]?.type&&(this.isWaitingForAnswer=!0)},1500)})}ngAfterViewInit(){this.initializeAudioContext()}ngOnDestroy(){this.cleanupSubscriptions(),this.cleanupAudio(),this.voiceInterviewService.stopSpeaking(),this.voiceInterviewService.stopListening()}onDomainChange(){this.updateCurrentDomain()}updateCurrentDomain(){this.currentDomain=this.domains.find(t=>t.id===this.selectedDomain)}updateUserMessagesCount(){this.userMessagesCount=this.messages.filter(t=>"user"===t.type).length}initializeAudioContext(){try{typeof window<"u"&&(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=256)}catch(t){console.warn("Web Audio API not supported:",t)}}startInterview(){this.voiceInterviewService.isSpeechRecognitionSupported()?(this.isInterviewStarted=!0,this.isInterviewEnded=!1,this.isLoading=!0,this.isWaitingForAnswer=!1,this.textResponse="",this.voiceInterviewService.startVoiceInterview(this.selectedDomain,this.difficulty).subscribe({next:t=>{this.isLoading=!1,this.isWaitingForAnswer=t.requiresAnswer||!1},error:t=>{this.isLoading=!1,console.error("Error starting interview:",t),alert("Error starting interview. Please try again.")}})):alert("Speech recognition is not supported in your browser. Please use Chrome or Edge.")}toggleRecording(){this.isRecording?(console.log("Stopping recording..."),this.voiceInterviewService.stopListening(),this.isWaitingForAnswer=!1):this.canRecord()?(console.log("Starting recording..."),this.voiceInterviewService.startListening(),this.isWaitingForAnswer=!1,this.textResponse=""):console.log("Cannot record now - conditions:",{isAiSpeaking:this.isAiSpeaking,isWaitingForAnswer:this.isWaitingForAnswer,isRecording:this.isRecording,isInterviewEnded:this.isInterviewEnded})}sendTextResponse(){const t=this.textResponse.trim();t&&(this.isLoading=!0,this.voiceInterviewService.sendTextResponse(t).subscribe({next:n=>{this.isLoading=!1,this.isWaitingForAnswer=n.requiresAnswer||!1,n.isCompleted&&(this.isInterviewEnded=!0),this.textResponse=""},error:n=>{this.isLoading=!1,console.error("Error sending text response:",n)}}))}onTextInputKeyPress(t){"Enter"===t.key&&!t.shiftKey&&(t.preventDefault(),this.sendTextResponse())}endInterview(){this.isInterviewEnded=!0,this.isWaitingForAnswer=!1,this.voiceInterviewService.endInterview().subscribe({next:t=>{console.log("Interview ended successfully")},error:t=>{console.error("Error ending interview:",t)}})}restartInterview(){this.voiceInterviewService.clearMessages(),this.voiceInterviewService.stopSpeaking(),this.voiceInterviewService.stopListening(),this.isInterviewStarted=!1,this.isInterviewEnded=!1,this.isRecording=!1,this.isAiSpeaking=!1,this.isWaitingForAnswer=!1,this.userMessagesCount=0,this.textResponse=""}startAudioVisualization(){if(!this.analyser||!this.audioVisualizer)return;const t=this.audioVisualizer.nativeElement,n=t.getContext("2d");if(!n)return;const i=()=>{if(this.animationId=requestAnimationFrame(i),!this.analyser)return;const s=this.analyser.frequencyBinCount,c=new Uint8Array(s);this.analyser.getByteFrequencyData(c),n.fillStyle="rgb(0, 0, 0)",n.fillRect(0,0,t.width,t.height);const d=t.width/s*2.5;let m=0;for(let h=0;h<s;h++){const _=c[h]/2;n.fillStyle=`hsl(${360*h/s}, 100%, 50%)`,n.fillRect(m,t.height-_,d,_),m+=d+1}};i()}stopAudioVisualization(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null);const t=this.audioVisualizer?.nativeElement;if(t){const n=t.getContext("2d");n&&n.clearRect(0,0,t.width,t.height)}}scrollToBottom(){try{setTimeout(()=>{this.messageContainer&&(this.messageContainer.nativeElement.scrollTop=this.messageContainer.nativeElement.scrollHeight)},100)}catch(t){console.error("Error scrolling to bottom:",t)}}cleanupSubscriptions(){this.messagesSubscription&&this.messagesSubscription.unsubscribe(),this.recordingSubscription&&this.recordingSubscription.unsubscribe(),this.aiSpeakingSubscription&&this.aiSpeakingSubscription.unsubscribe()}cleanupAudio(){this.stopAudioVisualization(),this.audioContext&&this.audioContext.close()}formatTime(t){return new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}getDomainName(t){const n=this.domains.find(i=>i.id===t);return n?n.name:"Unknown Domain"}getTechnicalSkills(){return this.currentDomain?.technicalSkills?.slice(0,3)||[]}getSoftSkills(){return this.currentDomain?.softSkills?.slice(0,3)||[]}isVoiceSupported(){return this.voiceInterviewService.isSpeechRecognitionSupported()&&this.voiceInterviewService.isSpeechSynthesisSupported()}getProgressPercentage(){const t=this.voiceInterviewService.getCurrentProgress();return Math.min(t.current/t.total*100,100)}canRecord(){return!this.isAiSpeaking&&this.isWaitingForAnswer&&!this.isRecording&&!this.isInterviewEnded}canType(){return!this.isAiSpeaking&&this.isWaitingForAnswer&&!this.isRecording&&!this.isInterviewEnded}getProgressInfo(){return this.voiceInterviewService.getCurrentProgress()}static \u0275fac=function(n){return new(n||o)(e.rXU(M))};static \u0275cmp=e.VBU({type:o,selectors:[["app-voice-interview"]],viewQuery:function(n,i){if(1&n&&(e.GBs(S,5),e.GBs(P,5),e.GBs(I,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.messageContainer=s.first),e.mGM(s=e.lsd())&&(i.audioVisualizer=s.first),e.mGM(s=e.lsd())&&(i.textInput=s.first)}},decls:27,vars:2,consts:[["messageContainer",""],["audioVisualizer",""],["textInput",""],[1,"dashboard-nav"],[1,"nav-container"],[1,"nav-menu"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-home"],["routerLink","/topics","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-book"],["routerLink","/voice-interview","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-microphone"],["routerLink","/flashcards","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-layer-group"],[1,"voice-interview-container"],[1,"interview-header"],["class","setup-section",4,"ngIf"],["class","interview-section",4,"ngIf"],[1,"setup-section"],[1,"domain-selection"],[1,"form-group"],["for","domain"],["id","domain",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","difficulty"],["id","difficulty",1,"form-select",3,"ngModelChange","ngModel"],["value","easy"],["value","medium"],["value","hard"],["class","domain-info",4,"ngIf"],["class","browser-warning",4,"ngIf"],[1,"btn","btn-primary","start-btn",3,"click","disabled"],[3,"value"],[1,"domain-info"],[1,"skills-section"],[1,"skills-column"],[4,"ngFor","ngForOf"],[1,"browser-warning"],[1,"warning-icon"],[1,"interview-section"],[1,"progress-section"],[1,"progress-info"],[1,"progress-bar"],[1,"progress-fill"],[1,"messages-container"],["class","message",3,"user-message","ai-message",4,"ngFor","ngForOf"],["class","loading-message",4,"ngIf"],["class","audio-visualizer-section",4,"ngIf"],[1,"input-section"],["class","btn voice-btn",3,"recording","disabled","click",4,"ngIf"],["class","text-input-container",4,"ngIf"],[1,"status-messages"],["class","status speaking-status",4,"ngIf"],["class","status waiting-status",4,"ngIf"],[1,"controls-section"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-outline",3,"click"],["class","completion-section",4,"ngIf"],[1,"message"],[1,"message-header"],[1,"message-sender"],[1,"message-time"],["class","audio-indicator",4,"ngIf"],[1,"message-content"],[1,"audio-indicator"],[1,"loading-message"],[1,"typing-indicator"],[1,"audio-visualizer-section"],["width","300","height","80",1,"visualizer-canvas"],[1,"recording-text"],[1,"btn","voice-btn",3,"click","disabled"],[1,"btn-icon"],[1,"text-input-container"],["placeholder","Type your answer here... (Press Enter to send)","rows","3",1,"text-input",3,"ngModelChange","keypress","ngModel","disabled"],[1,"btn","send-btn",3,"click","disabled"],[1,"status","speaking-status"],[1,"status","waiting-status"],[1,"completion-section"],[1,"completion-card"],[1,"completion-actions"],[1,"btn","btn-primary",3,"click"],["routerLink","/dashboard",1,"btn","btn-outline"]],template:function(n,i){1&n&&(e.j41(0,"nav",3)(1,"div",4)(2,"div",5)(3,"a",6),e.nrm(4,"i",7),e.j41(5,"span"),e.EFF(6,"Dashboard"),e.k0s()(),e.j41(7,"a",8),e.nrm(8,"i",9),e.j41(9,"span"),e.EFF(10,"Topics"),e.k0s()(),e.j41(11,"a",10),e.nrm(12,"i",11),e.j41(13,"span"),e.EFF(14,"Voice Interview"),e.k0s()(),e.j41(15,"a",12),e.nrm(16,"i",13),e.j41(17,"span"),e.EFF(18,"Flashcards"),e.k0s()()()()(),e.j41(19,"div",14)(20,"div",15)(21,"h1"),e.EFF(22,"Voice Interview Assistant"),e.k0s(),e.j41(23,"p"),e.EFF(24,"Practice technical interviews with AI-powered voice interactions"),e.k0s()(),e.DNE(25,j,23,7,"div",16)(26,Y,27,17,"div",17),e.k0s()),2&n&&(e.R7$(25),e.Y8G("ngIf",!i.isInterviewStarted),e.R7$(),e.Y8G("ngIf",i.isInterviewStarted))},dependencies:[u.MD,u.Sq,u.bT,g.YN,g.xH,g.y7,g.me,g.wz,g.BC,g.vS,f.iI,f.Wk,f.wQ,u.QX],styles:['.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.dashboard-nav[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a202c,#2d3748);color:#fff;padding:0;box-shadow:0 4px 20px #0000001a}.dashboard-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.dashboard-nav[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem 0}.dashboard-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1.5rem;color:#cbd5e0;text-decoration:none;border-radius:10px;transition:all .3s ease;font-weight:500}.dashboard-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff;transform:translateY(-1px)}.dashboard-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4361ee,#3a0ca3);color:#fff;box-shadow:0 4px 15px #4361ee4d}.dashboard-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;width:20px;text-align:center}.voice-interview-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;min-height:calc(100vh - 80px)}.interview-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;padding:2rem;background:linear-gradient(135deg,#4361ee,#3a0ca3);border-radius:20px;color:#fff;box-shadow:0 8px 30px #4361ee4d}.interview-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;margin-bottom:1rem;font-size:2.5rem;text-shadow:0 2px 10px rgba(0,0,0,.2)}.interview-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;opacity:.9;max-width:600px;margin:0 auto}.setup-section[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 4px 20px #00000014;border:1px solid #e2e8f0;margin-bottom:2rem;transition:all .3s ease;overflow:hidden}.domain-selection[_ngcontent-%COMP%]{padding:2rem}.domain-selection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#1a202c;margin-bottom:2rem;font-size:1.8rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2d3748;margin-bottom:.5rem;display:block}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;width:100%}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#4361ee;box-shadow:0 0 0 3px #4361ee1a;outline:none}.domain-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:16px;padding:2rem;margin:2rem 0;border-left:4px solid #4361ee;box-shadow:0 4px 15px #0000000d}.domain-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;margin-bottom:1rem;font-size:1.4rem}.domain-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;line-height:1.6;margin-bottom:1.5rem}.skills-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.skills-column[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;color:#2d3748;margin-bottom:1rem;font-size:1.1rem}.skills-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.skills-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#64748b;position:relative;padding:.5rem 0 .5rem 1.5rem;border-bottom:1px solid #e2e8f0}.skills-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\25b8";color:#4361ee;position:absolute;left:0;font-weight:700}.skills-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.browser-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:2px solid #f59e0b;border-radius:12px;padding:1.5rem;margin:2rem 0;display:flex;align-items:center;gap:1rem}.warning-icon[_ngcontent-%COMP%]{font-size:1.5rem;flex-shrink:0}.browser-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#92400e;margin:0;font-weight:500}.btn[_ngcontent-%COMP%]{border-radius:12px;font-weight:600;padding:.75rem 1.5rem;font-size:1rem;transition:all .3s ease;border:2px solid transparent;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4361ee,#3a0ca3);border:none;color:#fff;box-shadow:0 4px 15px #4361ee4d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #4361ee66;background:linear-gradient(135deg,#3a56d4,#2d0690)}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);border:none;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #ef44444d}.btn-outline[_ngcontent-%COMP%]{background:transparent;border:2px solid #4361ee;color:#4361ee}.btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#4361ee;color:#fff;transform:translateY(-2px);box-shadow:0 8px 25px #4361ee4d}.start-btn[_ngcontent-%COMP%]{width:100%;padding:1rem 2rem;font-size:1.1rem;font-weight:600;margin-top:2rem}.interview-section[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 4px 20px #00000014;border:1px solid #e2e8f0;padding:2rem;margin-bottom:2rem;transition:all .3s ease}.progress-section[_ngcontent-%COMP%]{margin-bottom:2rem;background:#f8fafc;padding:1.5rem;border-radius:16px;border:1px solid #e2e8f0}.progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;font-weight:600;color:#2d3748}.progress-bar[_ngcontent-%COMP%]{background:#e2e8f0;border-radius:10px;height:10px;overflow:hidden;position:relative}.progress-fill[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4cc9f0,#4361ee);border-radius:10px;height:100%;transition:width .6s ease;position:relative;overflow:hidden}.progress-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%}to{left:100%}}.messages-container[_ngcontent-%COMP%]{height:400px;overflow-y:auto;background:#f8fafc;border-radius:16px;padding:1.5rem;margin-bottom:1.5rem;border:2px solid #e2e8f0;scroll-behavior:smooth}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.message[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1.25rem;border-radius:16px;max-width:80%;animation:_ngcontent-%COMP%_messageSlideIn .3s ease-out;box-shadow:0 2px 10px #0000000d}@keyframes _ngcontent-%COMP%_messageSlideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.user-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4361ee,#3a0ca3);color:#fff;margin-left:auto;border-bottom-right-radius:4px}.ai-message[_ngcontent-%COMP%]{background:#fff;color:#1a202c;margin-right:auto;border-bottom-left-radius:4px;border:1px solid #e2e8f0}.message-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem;font-size:.875rem;opacity:.8}.message-sender[_ngcontent-%COMP%]{font-weight:600}.message-time[_ngcontent-%COMP%]{opacity:.7}.audio-indicator[_ngcontent-%COMP%]{font-size:.9em}.message-content[_ngcontent-%COMP%]{line-height:1.6;word-wrap:break-word}.loading-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;color:#64748b}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:4px}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:8px;width:8px;background:#4361ee;border-radius:50%;animation:_ngcontent-%COMP%_typing 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_typing{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1);opacity:1}}.audio-visualizer-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#1a202c,#2d3748);border-radius:16px;box-shadow:0 4px 15px #0000001a}.visualizer-canvas[_ngcontent-%COMP%]{border-radius:8px;background:#1a1a1a;display:block;margin:0 auto}.recording-text[_ngcontent-%COMP%]{color:#ef4444;font-weight:600;margin-top:1rem;font-size:1.1rem;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.input-section[_ngcontent-%COMP%]{margin-bottom:2rem}.voice-btn[_ngcontent-%COMP%]{width:100%;padding:1rem 2rem;margin-bottom:1.5rem;background:linear-gradient(135deg,#4361ee,#3a0ca3);color:#fff;border:none;border-radius:12px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.75rem;box-shadow:0 4px 15px #4361ee4d}.voice-btn.recording[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);animation:_ngcontent-%COMP%_recordingPulse 1.5s infinite}@keyframes _ngcontent-%COMP%_recordingPulse{0%,to{transform:scale(1);box-shadow:0 4px 15px #ef44444d}50%{transform:scale(1.02);box-shadow:0 0 30px #ef444499}}.voice-btn[_ngcontent-%COMP%]:disabled{background:#94a3b8;cursor:not-allowed;animation:none;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1.2rem}.text-input-container[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-end;margin-bottom:1.5rem}.text-input[_ngcontent-%COMP%]{flex:1;padding:1rem;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;font-family:inherit;resize:vertical;min-height:80px;transition:all .3s ease;background:#fff}.text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4361ee;box-shadow:0 0 0 3px #4361ee1a}.text-input[_ngcontent-%COMP%]:disabled{background:#f8fafc;cursor:not-allowed;opacity:.7}.send-btn[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:12px;cursor:pointer;transition:all .3s ease;height:fit-content;font-weight:600;box-shadow:0 4px 15px #10b9814d}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #10b98166;background:linear-gradient(135deg,#0da271,#047852)}.send-btn[_ngcontent-%COMP%]:disabled{background:#94a3b8;cursor:not-allowed;transform:none;box-shadow:none}.status-messages[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.status[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:12px;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.75rem;box-shadow:0 2px 10px #0000000d}.speaking-status[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af;border:1px solid #bfdbfe}.waiting-status[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e;border:1px solid #fde68a}.controls-section[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin-bottom:2rem;flex-wrap:wrap}.completion-section[_ngcontent-%COMP%]{text-align:center;margin-top:3rem;padding:2rem}.completion-card[_ngcontent-%COMP%]{background:#fff;padding:3rem;border-radius:20px;box-shadow:0 8px 30px #0000001a;border-top:4px solid #10b981;max-width:500px;margin:0 auto}.completion-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#10b981;margin-bottom:1.5rem;font-size:2rem;font-weight:700}.completion-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin-bottom:1rem;font-size:1.1rem}.completion-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin-top:2rem;flex-wrap:wrap}@media (max-width: 768px){.voice-interview-container[_ngcontent-%COMP%]{padding:1rem}.dashboard-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{padding:0 1rem}.dashboard-nav[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.25rem}.dashboard-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:.6rem 1rem;font-size:.9rem}.dashboard-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.dashboard-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;margin-right:0}.interview-header[_ngcontent-%COMP%]{padding:1.5rem}.interview-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.setup-section[_ngcontent-%COMP%], .interview-section[_ngcontent-%COMP%]{padding:1.5rem}.skills-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.message[_ngcontent-%COMP%]{max-width:95%;padding:1rem}.text-input-container[_ngcontent-%COMP%]{flex-direction:column}.send-btn[_ngcontent-%COMP%]{width:100%}.controls-section[_ngcontent-%COMP%], .completion-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.completion-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;max-width:200px}}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:0 1rem}.domain-selection[_ngcontent-%COMP%], .interview-section[_ngcontent-%COMP%]{padding:1rem}.messages-container[_ngcontent-%COMP%]{height:300px;padding:1rem}.voice-btn[_ngcontent-%COMP%]{padding:.875rem 1rem;font-size:1rem}}']})}return o})()}}]);